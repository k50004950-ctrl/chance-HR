# 주소 검색 기능 사용 가이드 🗺️

## ✅ 구현 완료된 기능

사업장 등록 시 주소와 위경도를 자동으로 입력할 수 있는 기능이 추가되었습니다!

## 📋 주요 기능

### 1. 🔍 주소 검색 (Daum 우편번호 서비스)
- **위치**: 사업장 등록 모달 > 주소 입력 필드 옆
- **버튼**: "🔍 주소 검색"
- **기능**:
  - 버튼을 클릭하면 Daum 우편번호 검색 팝업이 열립니다
  - 주소를 검색하고 선택하면 자동으로 주소가 입력됩니다
  - 입력된 주소를 기반으로 위도/경도가 자동으로 계산되어 입력됩니다

### 2. 📍 현재 위치 사용
- **위치**: 위도/경도 입력 필드 아래
- **버튼**: "📍 현재 위치 사용"
- **기능**:
  - 브라우저의 위치 권한을 요청합니다
  - 허용 시 현재 위치의 위도/경도가 자동으로 입력됩니다
  - GPS 정확도 정보도 함께 표시됩니다

### 3. 🗺️ 지도에서 확인
- **위치**: 위도/경도 입력 후 자동 표시
- **버튼**: "🗺️ 지도에서 확인"
- **기능**:
  - 입력한 위도/경도가 정확한지 Google Maps에서 확인할 수 있습니다
  - 새 탭에서 Google Maps가 열립니다

## 🎯 사용 방법

### 방법 1: 주소 검색 사용 (추천)

1. **사업장 등록** 버튼 클릭
2. 사업장명 입력
3. **"🔍 주소 검색"** 버튼 클릭
4. Daum 우편번호 팝업에서 주소 검색
5. 원하는 주소 선택
6. ✅ 주소와 위도/경도가 **자동으로 입력됨**
7. **"🗺️ 지도에서 확인"** 버튼으로 정확도 확인 (선택사항)
8. 반경(미터) 조정 (기본값: 100m)
9. **저장** 버튼 클릭

### 방법 2: 현재 위치 사용

1. **사업장 등록** 버튼 클릭
2. 사업장명과 주소 입력
3. **"📍 현재 위치 사용"** 버튼 클릭
4. 브라우저 위치 권한 허용
5. ✅ 위도/경도가 **자동으로 입력됨**
6. 필요시 수동으로 미세 조정
7. **저장** 버튼 클릭

### 방법 3: 수동 입력

1. **사업장 등록** 버튼 클릭
2. 사업장명과 주소 수동 입력
3. 위도/경도 수동 입력
4. **"🗺️ 지도에서 확인"** 버튼으로 정확도 확인
5. **저장** 버튼 클릭

## 🔧 기술 세부사항

### 사용된 기술
- **Daum 우편번호 서비스**: 한국 주소 검색
- **Nominatim (OpenStreetMap)**: 주소 → 좌표 변환 (무료, API 키 불필요)
- **브라우저 Geolocation API**: 현재 위치 가져오기
- **Google Maps**: 좌표 검증

### 좌표 변환 프로세스
1. 사용자가 Daum 우편번호 서비스에서 주소 선택
2. 선택된 주소를 Nominatim API로 전송
3. Nominatim이 해당 주소의 위도/경도 반환
4. 자동으로 입력 필드에 채워짐

### 기본 좌표 (검색 실패 시)
- **위치**: 서울시청
- **위도**: 37.5665
- **경도**: 126.9780

## ⚠️ 주의사항

1. **위치 권한**: "현재 위치 사용" 기능은 브라우저 위치 권한이 필요합니다
2. **HTTPS**: 일부 브라우저는 HTTPS 환경에서만 위치 권한을 허용합니다
3. **정확도**: Nominatim API의 정확도가 100%가 아닐 수 있으므로, "지도에서 확인" 버튼으로 반드시 확인하세요
4. **인터넷 연결**: 주소 검색과 좌표 변환 기능은 인터넷 연결이 필요합니다

## 📝 예제

### 서울시청 등록 예제
```
사업장명: 서울시청 민원실
주소: 서울특별시 중구 세종대로 110
위도: 37.5665
경도: 126.9780
반경: 100m
```

### 부산시청 등록 예제
```
사업장명: 부산시청 본관
주소: 부산광역시 연제구 중앙대로 1001
위도: 35.1798
경도: 129.0755
반경: 150m
```

## 🎓 팁

1. **반경 설정**: 
   - 소규모 매장: 50-100m
   - 중규모 매장: 100-200m
   - 대규모 시설: 200-500m

2. **위치 정확도**:
   - 주소 검색 사용 시 가장 정확합니다
   - 현재 위치 사용 시 GPS 정확도에 따라 다릅니다
   - 건물 내부에서는 GPS 정확도가 떨어질 수 있습니다

3. **문제 해결**:
   - 주소 검색 팝업이 안 열리면 페이지를 새로고침하세요
   - 좌표가 이상하면 "지도에서 확인" 버튼으로 확인 후 수동으로 조정하세요
   - 현재 위치가 안 잡히면 브라우저 설정에서 위치 권한을 확인하세요

## 🚀 업데이트 내역

### v1.0 (2026-01-12)
- ✅ Daum 우편번호 서비스 통합
- ✅ Nominatim API를 통한 자동 좌표 변환
- ✅ 현재 위치 사용 기능
- ✅ Google Maps 링크로 좌표 검증
- ✅ 사용자 친화적인 UI/UX

---

**개발자 노트**: 이 기능은 무료 API를 사용하며, API 키가 필요하지 않습니다. Nominatim API는 OpenStreetMap 재단에서 제공하는 무료 서비스입니다.
